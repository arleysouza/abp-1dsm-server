DROP TABLE IF EXISTS tbquestao_por_questionario;
DROP TABLE IF EXISTS tbquestionario;
DROP TABLE IF EXISTS tbquestao;
DROP TABLE IF EXISTS tbusuario;

CREATE TABLE tbusuario (
  idusuario SERIAL NOT NULL,
  nome VARCHAR(40) NOT NULL,
  mail VARCHAR(40) NOT NULL,
  PRIMARY KEY(idusuario)
);

CREATE TABLE tbquestao (
  idquestao SERIAL NOT NULL,
  enunciado VARCHAR(1000) NOT NULL,
  resposta BOOL NULL,
  PRIMARY KEY(idquestao)
);

CREATE TABLE tbquestionario (
  idquestionario SERIAL NOT NULL,
  idusuario INTEGER  NOT NULL,
  datahorario TIMESTAMP DEFAULT NOW() NOT NULL,
  nota FLOAT NULL,
  PRIMARY KEY(idquestionario),
  FOREIGN KEY(idusuario)
    REFERENCES tbusuario(idusuario)
      ON DELETE CASCADE
      ON UPDATE CASCADE
);

CREATE TABLE tbquestao_por_questionario (
  idquestao INTEGER  NOT NULL,
  idquestionario INTEGER NOT NULL,
  acertou BOOL NOT NULL,
  PRIMARY KEY(idquestao, idquestionario),
  FOREIGN KEY(idquestao)
    REFERENCES tbquestao(idquestao)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION,
  FOREIGN KEY(idquestionario)
    REFERENCES tbquestionario(idquestionario)
      ON DELETE CASCADE
      ON UPDATE CASCADE
);

INSERT INTO tbquestao (enunciado, resposta) 
VALUES
('Uma variável é um espaço na memória do computador?', true),
('O tipo de dado é o conteúdo da variável?', false),
('Os tipos de dados podem ser primitivos ou objetos?', true),
('Na estrutura decisão if...else o bloco if pode existir sem o bloco else?', true ),
('Na estrutura decisão if...else o bloco else pode existir sem o bloco if?', false),
('A estrutura de decisão if...else pode ser aninhada dentro de um bloco if ou else?', true),
('Uma estrutura de repetição for pode ser usada quando o número de iterações é desconhecido?', false),
('O loop do...while executa o bloco de código pelo menos uma vez, mesmo se a condição for inicialmente falsa?', true),
('Em uma estrutura de repetição while, o bloco de código é executado enquanto a condição especificada for falsa?', false),
('Um array é uma estrutura de dados capaz de manter vários conteúdo', true),
('No JavaScript o índice da primeira posição de um array é zero',true),
('No JavaScript a propriedade size é usada para ler a quantidade de elementos do array',false),
('No Javacript um array é definido usando um par de chaves', false),
('Um objeto JSON (JavaScript Objetc Notation) é definido usando um par de colchetes', false),
('Um objeto JSON é formado elementos acessíveis através de índices de posição', false),
('Um objeto JSON é formado por propriedades', true),
('Uma propriedade de um objeto JSON é formado pela chave:valor', true),
('Uma propriedade de um objeto JSON é formado pela chave:valor, onde o valor pode ser qualquer tipo de dado', true),
('A instrução const {nome} = obj é usada para desestruturar a propriedade nome do objeto JSON que está na variável obj', true),
('A instrução const {nome:name} = obj é usada para desestruturar a propriedade nome do objeto JSON que está na variável obj e colocar numa variável de nome name', true),
('A instruççao const {pessoa:{nome}} = obj é usada para desestruturar a propridade nome que está dento de um objeto da propriedade pessoa', true);

INSERT INTO tbusuario (nome, mail) 
VALUES
('Maria Silva','maria@teste.com'),
('Lucas Garcia','lucas@teste.com'),
('Ana Maria Souza','ana@teste.com'),
('João Bosco','joao@teste.com');